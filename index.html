<html>
<head>
<script src="https://identity.justgiving.com/js/connect.js"></script>
<script src="http://knockoutjs.com/downloads/knockout-3.3.0.js"></script>
</head>
<body>
<iframe width="560" height="315" src="https://www.youtube.com/embed/c5zBxN80ugY" frameborder="0" allowfullscreen></iframe>

<p>
<a href="https://identity.sandbox.justgiving.com/connect/authorize?client_id=41cac7fc&response_type=id_token token&scope=openid account&redirect_uri=http%3A%2F%2Fv3-sandbox.justgiving.com%2F4w350m3%2Fdonation%2Fdirect%2Fcharity%2F2050%2F%3Famount%3D5.00%26exitUrl%3Dhttp%253A%252F%252Fhttp%3A%2F%2Fjg-coldplay.azurewebsites.net%253FjgDonationId%253DJUSTGIVING-DONATION-ID%26currency%3DGBP%26reference%3Dcoldplay&nonce=ba3c9a58dff94a86aa633e71e6afc4e3">
<img src="./donate-button.png" alt="Donate with JustGiving"/>
</a>

<p>First name: <strong data-bind="text: displayName"></strong></p>
<p>Last name: <strong data-bind="text: email"></strong></p>
<p>Last name: <strong data-bind="text: userId"></strong></p>

<script>

function AppViewModel() {
	var self = this;
    self.displayName = "";
    self.email = "";
    self.userId = "";
}

ko.applyBindings(new AppViewModel());

JG.init({
 appId: '41cac7fc',
 environment: 'sandbox'
});

var checkLoginState = function() {
 JG.checkConnected(function(status){
	 if(!status.connected) {
	 	alert("asdasd");
	 	//SetOAuthInfo("status.displayName", "status.email", "status.userId");
		//var accessToken = status.accessToken;
 		}
 	});
 }

 function SetOAuthInfo(displayName, email, userId){
	var self = this;
	self.displayName = displayName;
    self.email = email;
    self.userId = userId;
 }
</script>

</a>
</p>

</body>
</body>
</html>